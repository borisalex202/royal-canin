function incCounter(){$(".counter").counter("play"),setTimeout(function(){$(".counter").counter("stop")},1)}function initCrop(e){e.cropper({autoCropArea:1,dragMode:"move"})}function previewFile(e,t){var o=e.files[0],n=new FileReader;n.addEventListener("load",function(){t.cropper("replace",n.result)},!1),o&&n.readAsDataURL(o)}var config={path:{sprites:"img/icons.svg"}};$(function(){var e=$(".cropper");$(window).on("load",function(){$(".icon use").each(function(){var e=$(this),t=e.attr("xlink:href");e.attr("xlink:href",config.path.sprites+t)})}),$(window).on("load",function(){$(".js-slider-cat").slick({slidesToShow:3,responsive:[{breakpoint:991,settings:{slidesToShow:1}}]})}),$(document).on("click",".js-menu-toggle",function(e){var t=$(this),o=$(".site-menu");e.preventDefault(),t.toggleClass("_active"),o.toggleClass("_active")}),$(document).mouseup(function(e){var t=$(".site-menu");t.is(e.target)||0!==t.has(e.target).length||$(e.target).hasClass("js-menu-toggle")||($(".js-menu-toggle").removeClass("_active"),t.removeClass("_active"))}),$(window).on("load scroll resize",function(){var e=$(this),t=$(document).width(),o=$(".site-header"),n=o.outerHeight(),i=$(".js-header-show"),a=i.offset().top+i.outerHeight(),r=e.scrollTop();r>n&&t>991?o.addClass("_fixed"):o.removeClass("_fixed"),r>a&&t>991?o.addClass("_active"):o.removeClass("_active")}),$(".counter").counter({initial:"56 233",digitWidth:50,digitHeight:77}).counter("stop"),$(document).on("click",".js-inc-counter",function(){incCounter()}),$(".form-upload__input").on("change",function(t){var o=$(this),n=o.closest(".form-upload"),i=n.find(".form-upload__text"),a=n.data("upload"),r=n.data("add"),s=n.data("change");n.data("upload",!0),a=!0,i.html(function(){return a?s:r}),initCrop(e),previewFile(t.target,e)}),$(document).on("click",".js-pet__btn",function(e){var t=$(".js-pet__input"),o=t.val(),n=$(".js-pet__name");return o.length?(t.removeClass("_error"),$("#upload").modal("show"),void n.text(function(){return o.length>0?o:"…………"})):(t.addClass("_error"),e.preventDefault(),!1)})});